{"ast":null,"code":"import _objectSpread from\"C:/Users/seniy/Downloads/project (1)/project/apps/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{useQuery}from'react-query';import{useAuth}from'../../contexts/AuthContext';import{Loader2,CheckCircle2,XCircle,ArrowLeft}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Quiz=()=>{const{id}=useParams();const navigate=useNavigate();const{user}=useAuth();const[currentQuestionIndex,setCurrentQuestionIndex]=useState(0);const[selectedOption,setSelectedOption]=useState(null);const[answers,setAnswers]=useState({});const[score,setScore]=useState(null);const[timeLeft,setTimeLeft]=useState(0);const[isSubmitting,setIsSubmitting]=useState(false);// Fetch quiz data\nconst{data:quiz,isLoading,error}=useQuery(['quiz',id],async()=>{const response=await fetch(\"/api/quizzes/\".concat(id));if(!response.ok)throw new Error('Failed to fetch quiz');return response.json();});// Set up timer\nuseEffect(()=>{if(!quiz)return;setTimeLeft(quiz.timeLimit*60);// Convert minutes to seconds\nconst timer=setInterval(()=>{setTimeLeft(prev=>{if(prev<=1){clearInterval(timer);handleSubmit();return 0;}return prev-1;});},1000);return()=>clearInterval(timer);},[quiz]);const currentQuestion=quiz===null||quiz===void 0?void 0:quiz.questions[currentQuestionIndex];const totalQuestions=(quiz===null||quiz===void 0?void 0:quiz.questions.length)||0;const progress=(currentQuestionIndex+1)/totalQuestions*100;const handleOptionSelect=optionIndex=>{setSelectedOption(optionIndex);setAnswers(prev=>_objectSpread(_objectSpread({},prev),{},{[currentQuestionIndex]:optionIndex}));};const handleNext=()=>{if(currentQuestionIndex<totalQuestions-1){var _answers;setCurrentQuestionIndex(prev=>prev+1);setSelectedOption((_answers=answers[currentQuestionIndex+1])!==null&&_answers!==void 0?_answers:null);}};const handlePrevious=()=>{if(currentQuestionIndex>0){var _answers2;setCurrentQuestionIndex(prev=>prev-1);setSelectedOption((_answers2=answers[currentQuestionIndex-1])!==null&&_answers2!==void 0?_answers2:null);}};const handleSubmit=async()=>{if(isSubmitting)return;setIsSubmitting(true);try{// In a real app, you would submit to your API\nconst correctAnswers=(quiz===null||quiz===void 0?void 0:quiz.questions.reduce((acc,question,index)=>{return acc+(answers[index]===question.correctAnswer?1:0);},0))||0;const calculatedScore=Math.round(correctAnswers/totalQuestions*100);setScore(calculatedScore);// Save quiz result\nawait fetch('/api/quiz-results',{method:'POST',headers:{'Content-Type':'application/json'// No auth token needed in simplified mode\n},body:JSON.stringify({quizId:id,score:calculatedScore,passed:calculatedScore>=((quiz===null||quiz===void 0?void 0:quiz.passingScore)||70),answers})});}catch(error){console.error('Error submitting quiz:',error);}finally{setIsSubmitting(false);}};const formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return\"\".concat(mins,\":\").concat(secs<10?'0':'').concat(secs);};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"h-12 w-12 animate-spin text-blue-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-700\",children:\"Loading quiz...\"})]})});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border-l-4 border-red-500 p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(XCircle,{className:\"h-5 w-5 text-red-500\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-700\",children:\"Failed to load quiz. Please try again later.\"})})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\",children:\"Retry\"})]});}if(score!==null){const passed=score>=((quiz===null||quiz===void 0?void 0:quiz.passingScore)||70);return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 rounded-lg text-center \".concat(passed?'bg-green-50':'bg-red-50'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-white mb-4\",children:passed?/*#__PURE__*/_jsx(CheckCircle2,{className:\"h-6 w-6 text-green-600\"}):/*#__PURE__*/_jsx(XCircle,{className:\"h-6 w-6 text-red-600\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-2\",children:passed?'Quiz Completed!':'Quiz Failed'}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-6\",children:[\"Your score: \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold \".concat(passed?'text-green-600':'text-red-600'),children:[score,\"%\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-8\",children:passed?\"Congratulations! You passed the \".concat(quiz===null||quiz===void 0?void 0:quiz.title,\" quiz.\"):\"You need at least \".concat(quiz===null||quiz===void 0?void 0:quiz.passingScore,\"% to pass. Please review the material and try again.\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/dashboard'),className:\"px-6 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Back to Dashboard\"}),!passed&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"px-6 py-2 border border-transparent rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:\"Try Again\"})]})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),className:\"mr-4 p-2 rounded-full hover:bg-gray-100\",\"aria-label\":\"Go back\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-5 w-5 text-gray-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:quiz===null||quiz===void 0?void 0:quiz.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:quiz===null||quiz===void 0?void 0:quiz.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto bg-gray-100 px-3 py-1 rounded-full text-sm font-medium\",children:formatTime(timeLeft)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 bg-gray-200 rounded-full h-2.5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2.5 rounded-full\",style:{width:\"\".concat(progress,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-medium text-gray-500\",children:[\"Question \",currentQuestionIndex+1,\" of \",totalQuestions]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mt-1\",children:currentQuestion===null||currentQuestion===void 0?void 0:currentQuestion.question})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:currentQuestion===null||currentQuestion===void 0?void 0:currentQuestion.options.map((option,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"w-full text-left p-4 rounded-lg border \".concat(selectedOption===index?'border-blue-500 bg-blue-50':'border-gray-200 hover:border-gray-300',\" transition-colors\"),onClick:()=>handleOptionSelect(index),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-5 w-5 rounded-full border mr-3 \".concat(selectedOption===index?'border-blue-500 bg-blue-500':'border-gray-400'),children:selectedOption===index&&/*#__PURE__*/_jsx(\"div\",{className:\"h-2 w-2 rounded-full bg-white\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-800\",children:option})]})},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePrevious,disabled:currentQuestionIndex===0,className:\"px-4 py-2 rounded-md \".concat(currentQuestionIndex===0?'text-gray-400 cursor-not-allowed':'text-blue-600 hover:bg-blue-50'),children:\"Previous\"}),currentQuestionIndex<totalQuestions-1?/*#__PURE__*/_jsx(\"button\",{onClick:handleNext,className:\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\",disabled:selectedOption===null,children:\"Next\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,className:\"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2\",disabled:selectedOption===null||isSubmitting,children:isSubmitting?'Submitting...':'Submit Quiz'})]})]});};export default Quiz;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useQuery","useAuth","Loader2","CheckCircle2","XCircle","ArrowLeft","jsx","_jsx","jsxs","_jsxs","Quiz","id","navigate","user","currentQuestionIndex","setCurrentQuestionIndex","selectedOption","setSelectedOption","answers","setAnswers","score","setScore","timeLeft","setTimeLeft","isSubmitting","setIsSubmitting","data","quiz","isLoading","error","response","fetch","concat","ok","Error","json","timeLimit","timer","setInterval","prev","clearInterval","handleSubmit","currentQuestion","questions","totalQuestions","length","progress","handleOptionSelect","optionIndex","_objectSpread","handleNext","_answers","handlePrevious","_answers2","correctAnswers","reduce","acc","question","index","correctAnswer","calculatedScore","Math","round","method","headers","body","JSON","stringify","quizId","passed","passingScore","console","formatTime","seconds","mins","floor","secs","className","children","onClick","window","location","reload","title","description","style","width","options","map","option","disabled"],"sources":["C:/Users/seniy/Downloads/project (1)/project/apps/frontend/src/components/quiz/Quiz.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useQuery } from 'react-query';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { Loader2, CheckCircle2, XCircle, ArrowLeft } from 'lucide-react';\n\ninterface Question {\n  id: number;\n  question: string;\n  options: string[];\n  correctAnswer: number;\n  explanation: string;\n}\n\ninterface QuizData {\n  id: number;\n  title: string;\n  description: string;\n  questions: Question[];\n  passingScore: number;\n  timeLimit: number; // in minutes\n}\n\nconst Quiz: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [selectedOption, setSelectedOption] = useState<number | null>(null);\n  const [answers, setAnswers] = useState<Record<number, number>>({});\n  const [score, setScore] = useState<number | null>(null);\n  const [timeLeft, setTimeLeft] = useState<number>(0);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Fetch quiz data\n  const { data: quiz, isLoading, error } = useQuery<QuizData>(['quiz', id], async () => {\n    const response = await fetch(`/api/quizzes/${id}`);\n    if (!response.ok) throw new Error('Failed to fetch quiz');\n    return response.json();\n  });\n\n  // Set up timer\n  useEffect(() => {\n    if (!quiz) return;\n    \n    setTimeLeft(quiz.timeLimit * 60); // Convert minutes to seconds\n    \n    const timer = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          clearInterval(timer);\n          handleSubmit();\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n    \n    return () => clearInterval(timer);\n  }, [quiz]);\n\n  const currentQuestion = quiz?.questions[currentQuestionIndex];\n  const totalQuestions = quiz?.questions.length || 0;\n  const progress = ((currentQuestionIndex + 1) / totalQuestions) * 100;\n\n  const handleOptionSelect = (optionIndex: number) => {\n    setSelectedOption(optionIndex);\n    setAnswers(prev => ({\n      ...prev,\n      [currentQuestionIndex]: optionIndex\n    }));\n  };\n\n  const handleNext = () => {\n    if (currentQuestionIndex < totalQuestions - 1) {\n      setCurrentQuestionIndex(prev => prev + 1);\n      setSelectedOption(answers[currentQuestionIndex + 1] ?? null);\n    }\n  };\n\n  const handlePrevious = () => {\n    if (currentQuestionIndex > 0) {\n      setCurrentQuestionIndex(prev => prev - 1);\n      setSelectedOption(answers[currentQuestionIndex - 1] ?? null);\n    }\n  };\n\n  const handleSubmit = async () => {\n    if (isSubmitting) return;\n    \n    setIsSubmitting(true);\n    \n    try {\n      // In a real app, you would submit to your API\n      const correctAnswers = quiz?.questions.reduce((acc, question, index) => {\n        return acc + (answers[index] === question.correctAnswer ? 1 : 0);\n      }, 0) || 0;\n      \n      const calculatedScore = Math.round((correctAnswers / totalQuestions) * 100);\n      setScore(calculatedScore);\n      \n      // Save quiz result\n      await fetch('/api/quiz-results', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          // No auth token needed in simplified mode\n        },\n        body: JSON.stringify({\n          quizId: id,\n          score: calculatedScore,\n          passed: calculatedScore >= (quiz?.passingScore || 70),\n          answers\n        })\n      });\n      \n    } catch (error) {\n      console.error('Error submitting quiz:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const formatTime = (seconds: number): string => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <Loader2 className=\"h-12 w-12 animate-spin text-blue-500 mx-auto mb-4\" />\n          <p className=\"text-lg text-gray-700\">Loading quiz...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"max-w-4xl mx-auto p-6\">\n        <div className=\"bg-red-50 border-l-4 border-red-500 p-4 mb-6\">\n          <div className=\"flex\">\n            <div className=\"flex-shrink-0\">\n              <XCircle className=\"h-5 w-5 text-red-500\" />\n            </div>\n            <div className=\"ml-3\">\n              <p className=\"text-sm text-red-700\">\n                Failed to load quiz. Please try again later.\n              </p>\n            </div>\n          </div>\n        </div>\n        <button\n          onClick={() => window.location.reload()}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  if (score !== null) {\n    const passed = score >= (quiz?.passingScore || 70);\n    \n    return (\n      <div className=\"max-w-4xl mx-auto p-6\">\n        <div className={`p-8 rounded-lg text-center ${passed ? 'bg-green-50' : 'bg-red-50'}`}>\n          <div className=\"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-white mb-4\">\n            {passed ? (\n              <CheckCircle2 className=\"h-6 w-6 text-green-600\" />\n            ) : (\n              <XCircle className=\"h-6 w-6 text-red-600\" />\n            )}\n          </div>\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n            {passed ? 'Quiz Completed!' : 'Quiz Failed'}\n          </h2>\n          <p className=\"text-gray-600 mb-6\">\n            Your score: <span className={`font-bold ${passed ? 'text-green-600' : 'text-red-600'}`}>\n              {score}%\n            </span>\n          </p>\n          <p className=\"text-gray-600 mb-8\">\n            {passed \n              ? `Congratulations! You passed the ${quiz?.title} quiz.`\n              : `You need at least ${quiz?.passingScore}% to pass. Please review the material and try again.`}\n          </p>\n          <div className=\"flex justify-center space-x-4\">\n            <button\n              onClick={() => navigate('/dashboard')}\n              className=\"px-6 py-2 border border-gray-300 rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n            >\n              Back to Dashboard\n            </button>\n            {!passed && (\n              <button\n                onClick={() => window.location.reload()}\n                className=\"px-6 py-2 border border-transparent rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                Try Again\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-4xl mx-auto p-6\">\n      <div className=\"mb-6 flex items-center\">\n        <button\n          onClick={() => navigate(-1)}\n          className=\"mr-4 p-2 rounded-full hover:bg-gray-100\"\n          aria-label=\"Go back\"\n        >\n          <ArrowLeft className=\"h-5 w-5 text-gray-600\" />\n        </button>\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">{quiz?.title}</h1>\n          <p className=\"text-gray-600\">{quiz?.description}</p>\n        </div>\n        <div className=\"ml-auto bg-gray-100 px-3 py-1 rounded-full text-sm font-medium\">\n          {formatTime(timeLeft)}\n        </div>\n      </div>\n\n      <div className=\"mb-6 bg-gray-200 rounded-full h-2.5\">\n        <div \n          className=\"bg-blue-600 h-2.5 rounded-full\" \n          style={{ width: `${progress}%` }}\n        ></div>\n      </div>\n\n      <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\n        <div className=\"mb-6\">\n          <p className=\"text-sm font-medium text-gray-500\">\n            Question {currentQuestionIndex + 1} of {totalQuestions}\n          </p>\n          <h2 className=\"text-xl font-semibold text-gray-900 mt-1\">\n            {currentQuestion?.question}\n          </h2>\n        </div>\n\n        <div className=\"space-y-3\">\n          {currentQuestion?.options.map((option, index) => (\n            <button\n              key={index}\n              className={`w-full text-left p-4 rounded-lg border ${\n                selectedOption === index \n                  ? 'border-blue-500 bg-blue-50' \n                  : 'border-gray-200 hover:border-gray-300'\n              } transition-colors`}\n              onClick={() => handleOptionSelect(index)}\n            >\n              <div className=\"flex items-center\">\n                <div className={`flex items-center justify-center h-5 w-5 rounded-full border mr-3 ${\n                  selectedOption === index \n                    ? 'border-blue-500 bg-blue-500' \n                    : 'border-gray-400'\n                }`}>\n                  {selectedOption === index && (\n                    <div className=\"h-2 w-2 rounded-full bg-white\"></div>\n                  )}\n                </div>\n                <span className=\"text-gray-800\">{option}</span>\n              </div>\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"flex justify-between\">\n        <button\n          onClick={handlePrevious}\n          disabled={currentQuestionIndex === 0}\n          className={`px-4 py-2 rounded-md ${\n            currentQuestionIndex === 0\n              ? 'text-gray-400 cursor-not-allowed'\n              : 'text-blue-600 hover:bg-blue-50'\n          }`}\n        >\n          Previous\n        </button>\n        \n        {currentQuestionIndex < totalQuestions - 1 ? (\n          <button\n            onClick={handleNext}\n            className=\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n            disabled={selectedOption === null}\n          >\n            Next\n          </button>\n        ) : (\n          <button\n            onClick={handleSubmit}\n            className=\"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2\"\n            disabled={selectedOption === null || isSubmitting}\n          >\n            {isSubmitting ? 'Submitting...' : 'Submit Quiz'}\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Quiz;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}