{"ast":null,"code":"import _objectSpread from\"C:/Users/seniy/Downloads/project (1)/project/apps/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{policiesAPI}from'../../services/api.js';import{LoadingSpinner}from'../common/LoadingSpinner.js';import{ErrorMessage}from'../common/ErrorMessage.js';import{FileText,Calendar,CheckCircle,Clock,AlertTriangle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const SimplePolicyViewer=()=>{var _selectedPolicy$prior,_selectedPolicy$statu;const[policies,setPolicies]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedPolicy,setSelectedPolicy]=useState(null);const[filters,setFilters]=useState({category:'',priority:'',status:'published'});const fetchPolicies=async()=>{try{setLoading(true);const response=await policiesAPI.getAll(filters);// Safely extract the policies array from the response\nlet policiesList=[];if(Array.isArray(response)){policiesList=response;}else if(response&&Array.isArray(response.data)){policiesList=response.data;}else if(response&&response.policies&&Array.isArray(response.policies)){policiesList=response.policies;}// Log the raw response for debugging\nconsole.log('Raw policies response:',response);console.log('Extracted policies list:',policiesList);// Ensure we have a valid array before proceeding\nif(!Array.isArray(policiesList)){console.error('Invalid policies data format:',policiesList);setError('Invalid data format received from server');setPolicies([]);return;}// Sanitize each policy to ensure it has all required fields\nconst sanitizedPolicies=policiesList.map(policy=>{// Ensure policy is an object\nif(typeof policy!=='object'||policy===null){console.warn('Invalid policy item:',policy);return null;}// Return a new object with all required fields\nreturn{id:String(policy.id||Math.random().toString(36).substr(2,9)),title:String(policy.title||'Untitled Policy'),content:String(policy.content||''),category:String(policy.category||'General'),priority:String(policy.priority||'medium'),status:String(policy.status||'draft'),version:String(policy.version||'1.0'),effective_date:policy.effective_date?new Date(policy.effective_date).toISOString():new Date().toISOString(),expiry_date:policy.expiry_date?new Date(policy.expiry_date).toISOString():null,acknowledged:Boolean(policy.acknowledged)};}).filter(Boolean);// Remove any null entries\nconsole.log('Sanitized policies:',sanitizedPolicies);setPolicies(sanitizedPolicies);setError(null);}catch(err){console.error('Error fetching policies:',err);setError('Failed to load policies. Please try again.');setPolicies([]);}finally{setLoading(false);}};useEffect(()=>{fetchPolicies();},[filters]);const getPriorityColor=priority=>{switch(priority===null||priority===void 0?void 0:priority.toLowerCase()){case'critical':return'bg-red-100 text-red-800';case'high':return'bg-orange-100 text-orange-800';case'medium':return'bg-yellow-100 text-yellow-800';case'low':return'bg-green-100 text-green-800';default:return'bg-gray-100 text-gray-800';}};const getStatusColor=status=>{switch(status===null||status===void 0?void 0:status.toLowerCase()){case'published':return'bg-green-100 text-green-800';case'draft':return'bg-gray-100 text-gray-800';case'archived':return'bg-red-100 text-red-800';default:return'bg-gray-100 text-gray-800';}};const formatDate=dateString=>{if(!dateString)return'N/A';return new Date(dateString).toLocaleDateString('en-GB');};const handleAcknowledge=async policyId=>{try{await policiesAPI.acknowledge(policyId);await fetchPolicies();// Refresh the list\n}catch(err){console.error('Error acknowledging policy:',err);setError('Failed to acknowledge policy. Please try again.');}};if(loading)return/*#__PURE__*/_jsx(LoadingSpinner,{});if(error)return/*#__PURE__*/_jsx(ErrorMessage,{message:error,onRetry:fetchPolicies});return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900 mb-2\",children:\"Security Policies\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Review and acknowledge company security policies\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.category,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{category:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),/*#__PURE__*/_jsx(\"option\",{value:\"General\",children:\"General\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Data Protection\",children:\"Data Protection\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Incident Response\",children:\"Incident Response\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Access Control\",children:\"Access Control\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Network Security\",children:\"Network Security\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Priority\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.priority,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{priority:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Priorities\"}),/*#__PURE__*/_jsx(\"option\",{value:\"critical\",children:\"Critical\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.status,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{status:e.target.value})),className:\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"published\",children:\"Published\"}),/*#__PURE__*/_jsx(\"option\",{value:\"draft\",children:\"Draft\"}),/*#__PURE__*/_jsx(\"option\",{value:\"archived\",children:\"Archived\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:policies.map(policy=>{// Ensure we have a valid policy object\nif(!policy||typeof policy!=='object'){console.warn('Invalid policy data:',policy);return null;}// Safely get values with defaults\nconst safePolicy={id:String(policy.id||''),title:String(policy.title||'Untitled Policy'),content:String(policy.content||''),category:String(policy.category||'General'),priority:String(policy.priority||'medium'),status:String(policy.status||'draft'),version:String(policy.version||'1.0'),effective_date:policy.effective_date?new Date(policy.effective_date).toISOString():new Date().toISOString(),expiry_date:policy.expiry_date?new Date(policy.expiry_date).toISOString():null,acknowledged:Boolean(policy.acknowledged)};return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-start justify-between mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-2\",children:safePolicy.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium rounded-full \".concat(getPriorityColor(safePolicy.priority)),children:safePolicy.priority.toUpperCase()}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium rounded-full \".concat(getStatusColor(safePolicy.status)),children:safePolicy.status.toUpperCase()}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800\",children:safePolicy.category})]})]})}),policy.content&&/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-4 line-clamp-3\",children:policy.content.length>150?\"\".concat(policy.content.substring(0,150),\"...\"):policy.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 mr-2\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Effective: \",formatDate(policy.effective_date)]})]}),policy.expiry_date&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 mr-2\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Expires: \",formatDate(policy.expiry_date)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-600\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-4 w-4 mr-2\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Version: \",policy.version||'1.0']})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:policy.acknowledged?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-green-600 text-sm\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-4 w-4 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Acknowledged\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-orange-600 text-sm\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-4 w-4 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Pending Acknowledgment\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedPolicy(policy),className:\"flex-1 px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors\",children:\"View Details\"}),!policy.acknowledged&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleAcknowledge(policy.id),className:\"px-4 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700 transition-colors\",children:\"Acknowledge\"})]})]})},safePolicy.id);})}),policies.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-12 w-12 text-gray-400 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No policies found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Try adjusting your filters or check back later.\"})]}),selectedPolicy&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:selectedPolicy.title}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedPolicy(null),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-6 w-6\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mb-6\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 text-sm font-medium rounded-full \".concat(getPriorityColor(selectedPolicy.priority)),children:((_selectedPolicy$prior=selectedPolicy.priority)===null||_selectedPolicy$prior===void 0?void 0:_selectedPolicy$prior.toUpperCase())||'MEDIUM'}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 text-sm font-medium rounded-full \".concat(getStatusColor(selectedPolicy.status)),children:((_selectedPolicy$statu=selectedPolicy.status)===null||_selectedPolicy$statu===void 0?void 0:_selectedPolicy$statu.toUpperCase())||'DRAFT'}),/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 text-sm font-medium rounded-full bg-blue-100 text-blue-800\",children:selectedPolicy.category||'General'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"prose max-w-none mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"whitespace-pre-wrap text-gray-700\",children:selectedPolicy.content})}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm text-gray-600 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Version:\"}),\" \",selectedPolicy.version||'1.0']}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Effective Date:\"}),\" \",formatDate(selectedPolicy.effective_date)]}),selectedPolicy.expiry_date&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Expiry Date:\"}),\" \",formatDate(selectedPolicy.expiry_date)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Last Updated:\"}),\" \",formatDate(selectedPolicy.updated_at)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"div\",{children:selectedPolicy.acknowledged?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-green-600\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Policy Acknowledged\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-orange-600\",children:[/*#__PURE__*/_jsx(Clock,{className:\"h-5 w-5 mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Pending Acknowledgment\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedPolicy(null),className:\"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors\",children:\"Close\"}),!selectedPolicy.acknowledged&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handleAcknowledge(selectedPolicy.id);setSelectedPolicy(null);},className:\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors\",children:\"Acknowledge Policy\"})]})]})]})]})})})]})});};export default SimplePolicyViewer;","map":{"version":3,"names":["React","useState","useEffect","policiesAPI","LoadingSpinner","ErrorMessage","FileText","Calendar","CheckCircle","Clock","AlertTriangle","jsx","_jsx","jsxs","_jsxs","SimplePolicyViewer","_selectedPolicy$prior","_selectedPolicy$statu","policies","setPolicies","loading","setLoading","error","setError","selectedPolicy","setSelectedPolicy","filters","setFilters","category","priority","status","fetchPolicies","response","getAll","policiesList","Array","isArray","data","console","log","sanitizedPolicies","map","policy","warn","id","String","Math","random","toString","substr","title","content","version","effective_date","Date","toISOString","expiry_date","acknowledged","Boolean","filter","err","getPriorityColor","toLowerCase","getStatusColor","formatDate","dateString","toLocaleDateString","handleAcknowledge","policyId","acknowledge","message","onRetry","className","children","value","onChange","e","_objectSpread","target","safePolicy","concat","toUpperCase","length","substring","onClick","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","updated_at"],"sources":["C:/Users/seniy/Downloads/project (1)/project/apps/frontend/src/components/policies/SimplePolicyViewer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { policiesAPI } from '../../services/api.js';\nimport { LoadingSpinner } from '../common/LoadingSpinner.js';\nimport { ErrorMessage } from '../common/ErrorMessage.js';\nimport { FileText, Calendar, CheckCircle, Clock, AlertTriangle } from 'lucide-react';\n\nexport const SimplePolicyViewer = () => {\n  const [policies, setPolicies] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedPolicy, setSelectedPolicy] = useState(null);\n  const [filters, setFilters] = useState({\n    category: '',\n    priority: '',\n    status: 'published'\n  });\n\n  const fetchPolicies = async () => {\n    try {\n      setLoading(true);\n      const response = await policiesAPI.getAll(filters);\n      \n      // Safely extract the policies array from the response\n      let policiesList = [];\n      if (Array.isArray(response)) {\n        policiesList = response;\n      } else if (response && Array.isArray(response.data)) {\n        policiesList = response.data;\n      } else if (response && response.policies && Array.isArray(response.policies)) {\n        policiesList = response.policies;\n      }\n      \n      // Log the raw response for debugging\n      console.log('Raw policies response:', response);\n      console.log('Extracted policies list:', policiesList);\n      \n      // Ensure we have a valid array before proceeding\n      if (!Array.isArray(policiesList)) {\n        console.error('Invalid policies data format:', policiesList);\n        setError('Invalid data format received from server');\n        setPolicies([]);\n        return;\n      }\n\n      // Sanitize each policy to ensure it has all required fields\n      const sanitizedPolicies = policiesList.map(policy => {\n        // Ensure policy is an object\n        if (typeof policy !== 'object' || policy === null) {\n          console.warn('Invalid policy item:', policy);\n          return null;\n        }\n        \n        // Return a new object with all required fields\n        return {\n          id: String(policy.id || Math.random().toString(36).substr(2, 9)),\n          title: String(policy.title || 'Untitled Policy'),\n          content: String(policy.content || ''),\n          category: String(policy.category || 'General'),\n          priority: String(policy.priority || 'medium'),\n          status: String(policy.status || 'draft'),\n          version: String(policy.version || '1.0'),\n          effective_date: policy.effective_date ? new Date(policy.effective_date).toISOString() : new Date().toISOString(),\n          expiry_date: policy.expiry_date ? new Date(policy.expiry_date).toISOString() : null,\n          acknowledged: Boolean(policy.acknowledged)\n        };\n      }).filter(Boolean); // Remove any null entries\n      \n      console.log('Sanitized policies:', sanitizedPolicies);\n      setPolicies(sanitizedPolicies);\n      setError(null);\n    } catch (err) {\n      console.error('Error fetching policies:', err);\n      setError('Failed to load policies. Please try again.');\n      setPolicies([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchPolicies();\n  }, [filters]);\n\n  const getPriorityColor = (priority) => {\n    switch (priority?.toLowerCase()) {\n      case 'critical': return 'bg-red-100 text-red-800';\n      case 'high': return 'bg-orange-100 text-orange-800';\n      case 'medium': return 'bg-yellow-100 text-yellow-800';\n      case 'low': return 'bg-green-100 text-green-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status?.toLowerCase()) {\n      case 'published': return 'bg-green-100 text-green-800';\n      case 'draft': return 'bg-gray-100 text-gray-800';\n      case 'archived': return 'bg-red-100 text-red-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    return new Date(dateString).toLocaleDateString('en-GB');\n  };\n\n  const handleAcknowledge = async (policyId) => {\n    try {\n      await policiesAPI.acknowledge(policyId);\n      await fetchPolicies(); // Refresh the list\n    } catch (err) {\n      console.error('Error acknowledging policy:', err);\n      setError('Failed to acknowledge policy. Please try again.');\n    }\n  };\n\n  if (loading) return <LoadingSpinner />;\n  if (error) return <ErrorMessage message={error} onRetry={fetchPolicies} />;\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Security Policies</h1>\n          <p className=\"text-gray-600\">Review and acknowledge company security policies</p>\n        </div>\n\n        {/* Filters */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-gray-200 mb-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Category</label>\n              <select\n                value={filters.category}\n                onChange={(e) => setFilters({ ...filters, category: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">All Categories</option>\n                <option value=\"General\">General</option>\n                <option value=\"Data Protection\">Data Protection</option>\n                <option value=\"Incident Response\">Incident Response</option>\n                <option value=\"Access Control\">Access Control</option>\n                <option value=\"Network Security\">Network Security</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Priority</label>\n              <select\n                value={filters.priority}\n                onChange={(e) => setFilters({ ...filters, priority: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">All Priorities</option>\n                <option value=\"critical\">Critical</option>\n                <option value=\"high\">High</option>\n                <option value=\"medium\">Medium</option>\n                <option value=\"low\">Low</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Status</label>\n              <select\n                value={filters.status}\n                onChange={(e) => setFilters({ ...filters, status: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">All Status</option>\n                <option value=\"published\">Published</option>\n                <option value=\"draft\">Draft</option>\n                <option value=\"archived\">Archived</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* Policies Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {policies.map((policy) => {\n            // Ensure we have a valid policy object\n            if (!policy || typeof policy !== 'object') {\n              console.warn('Invalid policy data:', policy);\n              return null;\n            }\n            \n            // Safely get values with defaults\n            const safePolicy = {\n              id: String(policy.id || ''),\n              title: String(policy.title || 'Untitled Policy'),\n              content: String(policy.content || ''),\n              category: String(policy.category || 'General'),\n              priority: String(policy.priority || 'medium'),\n              status: String(policy.status || 'draft'),\n              version: String(policy.version || '1.0'),\n              effective_date: policy.effective_date ? new Date(policy.effective_date).toISOString() : new Date().toISOString(),\n              expiry_date: policy.expiry_date ? new Date(policy.expiry_date).toISOString() : null,\n              acknowledged: Boolean(policy.acknowledged)\n            };\n            \n            return (\n              <div key={safePolicy.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow\">\n                <div className=\"p-6\">\n                  {/* Header */}\n                  <div className=\"flex items-start justify-between mb-4\">\n                    <div className=\"flex-1\">\n                      <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                        {safePolicy.title}\n                      </h3>\n                      <div className=\"flex flex-wrap gap-2 mb-3\">\n                        <span className={`px-2 py-1 text-xs font-medium rounded-full ${getPriorityColor(safePolicy.priority)}`}>\n                          {safePolicy.priority.toUpperCase()}\n                        </span>\n                        <span className={`px-2 py-1 text-xs font-medium rounded-full ${getStatusColor(safePolicy.status)}`}>\n                          {safePolicy.status.toUpperCase()}\n                        </span>\n                        <span className=\"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800\">\n                          {safePolicy.category}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n\n                {/* Description */}\n                {policy.content && (\n                  <p className=\"text-gray-600 text-sm mb-4 line-clamp-3\">\n                    {policy.content.length > 150 \n                      ? `${policy.content.substring(0, 150)}...` \n                      : policy.content\n                    }\n                  </p>\n                )}\n\n                {/* Policy Details */}\n                <div className=\"space-y-2 mb-4\">\n                  <div className=\"flex items-center text-sm text-gray-600\">\n                    <Calendar className=\"h-4 w-4 mr-2\" />\n                    <span>Effective: {formatDate(policy.effective_date)}</span>\n                  </div>\n                  {policy.expiry_date && (\n                    <div className=\"flex items-center text-sm text-gray-600\">\n                      <Calendar className=\"h-4 w-4 mr-2\" />\n                      <span>Expires: {formatDate(policy.expiry_date)}</span>\n                    </div>\n                  )}\n                  <div className=\"flex items-center text-sm text-gray-600\">\n                    <FileText className=\"h-4 w-4 mr-2\" />\n                    <span>Version: {policy.version || '1.0'}</span>\n                  </div>\n                </div>\n\n                {/* Acknowledgment Status */}\n                <div className=\"mb-4\">\n                  {policy.acknowledged ? (\n                    <div className=\"flex items-center text-green-600 text-sm\">\n                      <CheckCircle className=\"h-4 w-4 mr-2\" />\n                      <span>Acknowledged</span>\n                    </div>\n                  ) : (\n                    <div className=\"flex items-center text-orange-600 text-sm\">\n                      <Clock className=\"h-4 w-4 mr-2\" />\n                      <span>Pending Acknowledgment</span>\n                    </div>\n                  )}\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex space-x-2\">\n                  <button\n                    onClick={() => setSelectedPolicy(policy)}\n                    className=\"flex-1 px-4 py-2 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 transition-colors\"\n                  >\n                    View Details\n                  </button>\n                  {!policy.acknowledged && (\n                    <button\n                      onClick={() => handleAcknowledge(policy.id)}\n                      className=\"px-4 py-2 bg-green-600 text-white text-sm rounded hover:bg-green-700 transition-colors\"\n                    >\n                      Acknowledge\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          )})}\n        </div>\n\n        {policies.length === 0 && (\n          <div className=\"text-center py-12\">\n            <FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No policies found</h3>\n            <p className=\"text-gray-600\">Try adjusting your filters or check back later.</p>\n          </div>\n        )}\n\n        {/* Policy Detail Modal */}\n        {selectedPolicy && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n              <div className=\"p-6\">\n                <div className=\"flex justify-between items-start mb-4\">\n                  <h2 className=\"text-2xl font-bold text-gray-900\">{selectedPolicy.title}</h2>\n                  <button\n                    onClick={() => setSelectedPolicy(null)}\n                    className=\"text-gray-400 hover:text-gray-600\"\n                  >\n                    <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </button>\n                </div>\n\n                <div className=\"flex flex-wrap gap-2 mb-6\">\n                  <span className={`px-3 py-1 text-sm font-medium rounded-full ${getPriorityColor(selectedPolicy.priority)}`}>\n                    {selectedPolicy.priority?.toUpperCase() || 'MEDIUM'}\n                  </span>\n                  <span className={`px-3 py-1 text-sm font-medium rounded-full ${getStatusColor(selectedPolicy.status)}`}>\n                    {selectedPolicy.status?.toUpperCase() || 'DRAFT'}\n                  </span>\n                  <span className=\"px-3 py-1 text-sm font-medium rounded-full bg-blue-100 text-blue-800\">\n                    {selectedPolicy.category || 'General'}\n                  </span>\n                </div>\n\n                <div className=\"prose max-w-none mb-6\">\n                  <div className=\"whitespace-pre-wrap text-gray-700\">\n                    {selectedPolicy.content}\n                  </div>\n                </div>\n\n                <div className=\"border-t pt-4\">\n                  <div className=\"grid grid-cols-2 gap-4 text-sm text-gray-600 mb-4\">\n                    <div>\n                      <span className=\"font-medium\">Version:</span> {selectedPolicy.version || '1.0'}\n                    </div>\n                    <div>\n                      <span className=\"font-medium\">Effective Date:</span> {formatDate(selectedPolicy.effective_date)}\n                    </div>\n                    {selectedPolicy.expiry_date && (\n                      <div>\n                        <span className=\"font-medium\">Expiry Date:</span> {formatDate(selectedPolicy.expiry_date)}\n                      </div>\n                    )}\n                    <div>\n                      <span className=\"font-medium\">Last Updated:</span> {formatDate(selectedPolicy.updated_at)}\n                    </div>\n                  </div>\n\n                  <div className=\"flex justify-between items-center\">\n                    <div>\n                      {selectedPolicy.acknowledged ? (\n                        <div className=\"flex items-center text-green-600\">\n                          <CheckCircle className=\"h-5 w-5 mr-2\" />\n                          <span className=\"font-medium\">Policy Acknowledged</span>\n                        </div>\n                      ) : (\n                        <div className=\"flex items-center text-orange-600\">\n                          <Clock className=\"h-5 w-5 mr-2\" />\n                          <span className=\"font-medium\">Pending Acknowledgment</span>\n                        </div>\n                      )}\n                    </div>\n                    <div className=\"flex space-x-2\">\n                      <button\n                        onClick={() => setSelectedPolicy(null)}\n                        className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50 transition-colors\"\n                      >\n                        Close\n                      </button>\n                      {!selectedPolicy.acknowledged && (\n                        <button\n                          onClick={() => {\n                            handleAcknowledge(selectedPolicy.id);\n                            setSelectedPolicy(null);\n                          }}\n                          className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors\"\n                        >\n                          Acknowledge Policy\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SimplePolicyViewer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}